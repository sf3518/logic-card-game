{"ast":null,"code":"import _slicedToArray from\"/Users/johnny/IC/Computing/year2/DRP/drp48/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{UserPageNavBar}from'./UserPageNavbar';import{useParams}from'react-router';import Axios from'axios';import{Paths}from'../../routesPaths';import{UserPageProfile}from'./UserPageProfile';import{UserPageLevels}from'./UserPageLevels';import{Divider}from'@material-ui/core';export var UserPage=function UserPage(){var _useParams=useParams(),uid=_useParams.uid;var _useState=useState({uid:0,username:\"\",email:\"\",levelFinished:0}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),levels=_useState4[0],setLevels=_useState4[1];var fetchUserInfo=function fetchUserInfo(){var config={params:{uid:Number(uid)}};Axios.get(Paths.userInfo,config).then(function(res){return res.data;}).then(setUser).catch(alert);};var fetchLevels=function fetchLevels(){var config={params:{uid:uid}};Axios.get(Paths.userLevels,config).then(function(res){return res.data;}).then(setLevels).catch(alert);};useEffect(function(){fetchUserInfo();fetchLevels();},[uid]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(UserPageNavBar,null),/*#__PURE__*/React.createElement(UserPageProfile,{profile:user}),/*#__PURE__*/React.createElement(Divider,{style:{margin:\"40px\"}}),/*#__PURE__*/React.createElement(UserPageLevels,{levels:levels}));};","map":{"version":3,"sources":["/Users/johnny/IC/Computing/year2/DRP/drp48/src/components/user/UserPage.tsx"],"names":["React","useEffect","useState","UserPageNavBar","useParams","Axios","Paths","UserPageProfile","UserPageLevels","Divider","UserPage","uid","username","email","levelFinished","user","setUser","levels","setLevels","fetchUserInfo","config","params","Number","get","userInfo","then","res","data","catch","alert","fetchLevels","userLevels","margin"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,cAAT,KAA+B,kBAA/B,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,MAAOC,CAAAA,KAAP,KAA0C,OAA1C,CACA,OAASC,KAAT,KAAsB,mBAAtB,CACA,OAASC,eAAT,KAAgC,mBAAhC,CACA,OAASC,cAAT,KAA+B,kBAA/B,CACA,OAASC,OAAT,KAAwB,mBAAxB,CAMA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,gBAEZN,SAAS,EAFG,CAEpBO,GAFoB,YAEpBA,GAFoB,eAGJT,QAAQ,CAAW,CAAES,GAAG,CAAE,CAAP,CAAUC,QAAQ,CAAE,EAApB,CAAwBC,KAAK,CAAE,EAA/B,CAAmCC,aAAa,CAAE,CAAlD,CAAX,CAHJ,wCAGrBC,IAHqB,eAGfC,OAHe,8BAIAd,QAAQ,CAAc,EAAd,CAJR,yCAIrBe,MAJqB,eAIbC,SAJa,eAM5B,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAMC,CAAAA,MAA0B,CAAG,CACjCC,MAAM,CAAE,CAAEV,GAAG,CAAEW,MAAM,CAACX,GAAD,CAAb,CADyB,CAAnC,CAGAN,KAAK,CAACkB,GAAN,CAAoBjB,KAAK,CAACkB,QAA1B,CAAoCJ,MAApC,EACGK,IADH,CACQ,SAAAC,GAAG,QAAKA,CAAAA,GAAG,CAACC,IAAT,EADX,EAEGF,IAFH,CAEQT,OAFR,EAGGY,KAHH,CAGSC,KAHT,EAID,CARD,CAUA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMV,CAAAA,MAA0B,CAAG,CACjCC,MAAM,CAAE,CAAEV,GAAG,CAAEA,GAAP,CADyB,CAAnC,CAGAN,KAAK,CAACkB,GAAN,CAAuBjB,KAAK,CAACyB,UAA7B,CAAyCX,MAAzC,EACGK,IADH,CACQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EADX,EAEGF,IAFH,CAEQP,SAFR,EAGGU,KAHH,CAGSC,KAHT,EAID,CARD,CAUA5B,SAAS,CAAC,UAAM,CACdkB,aAAa,GACbW,WAAW,GACZ,CAHQ,CAGN,CAACnB,GAAD,CAHM,CAAT,CAKA,mBACE,4CACE,oBAAC,cAAD,MADF,cAEE,oBAAC,eAAD,EAAiB,OAAO,CAAEI,IAA1B,EAFF,cAGE,oBAAC,OAAD,EAAU,KAAK,CAAE,CAAEiB,MAAM,CAAE,MAAV,CAAjB,EAHF,cAIE,oBAAC,cAAD,EAAgB,MAAM,CAAEf,MAAxB,EAJF,CADF,CAQD,CAvCM","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { UserInfo, LevelView } from '../../types'\nimport { UserPageNavBar } from './UserPageNavbar'\nimport { useParams } from 'react-router'\nimport Axios, { AxiosRequestConfig } from 'axios'\nimport { Paths } from '../../routesPaths'\nimport { UserPageProfile } from './UserPageProfile'\nimport { UserPageLevels } from './UserPageLevels'\nimport { Divider } from '@material-ui/core'\n\ninterface Params {\n  uid: string\n}\n\nexport const UserPage = () => {\n\n  const { uid } = useParams()\n  const [user, setUser] = useState<UserInfo>({ uid: 0, username: \"\", email: \"\", levelFinished: 0 })\n  const [levels, setLevels] = useState<LevelView[]>([])\n\n  const fetchUserInfo = () => {\n    const config: AxiosRequestConfig = {\n      params: { uid: Number(uid) }\n    }\n    Axios.get<UserInfo>(Paths.userInfo, config)\n      .then(res =>  res.data)\n      .then(setUser)\n      .catch(alert)\n  }\n\n  const fetchLevels = () => {\n    const config: AxiosRequestConfig = {\n      params: { uid: uid }\n    }\n    Axios.get<LevelView[]>(Paths.userLevels, config)\n      .then(res => res.data)\n      .then(setLevels)\n      .catch(alert)\n  }\n\n  useEffect(() => {\n    fetchUserInfo()\n    fetchLevels()\n  }, [uid])\n\n  return (\n    <div>\n      <UserPageNavBar/>\n      <UserPageProfile profile={user}/>\n      <Divider  style={{ margin: \"40px\" }}/>\n      <UserPageLevels levels={levels}/>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}