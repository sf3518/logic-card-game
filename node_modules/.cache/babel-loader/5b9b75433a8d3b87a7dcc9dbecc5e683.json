{"ast":null,"code":"var _jsxFileName = \"/Users/johnny/IC/Computing/DRP/drp48/src/App.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Route } from \"react-router-dom\";\nimport { Entry } from \"./components/entry/Entry\";\nimport { LevelPage } from \"./components/entry/LevelPage\";\nimport { LoginContext } from \"./LoginContext\";\nimport { LevelEditor } from \"./components/editor/LevelEditor\";\nimport { Arena } from \"./components/arena/Arena\";\nimport { SinglePlayerLevelBoard } from \"./components/game/SinglePlayerLevelBoard\";\nimport { ArenaLevelBoard } from \"./components/game/ArenaLevelBoard\";\nimport { RegisterDialogue } from \"./components/auth/Register\";\nimport { LoginDialogue } from \"./components/auth/Login\";\nimport { LogoutDialogue } from \"./components/auth/Logout\";\nimport { UserPage } from \"./components/user/UserPage\";\n\nfunction App() {\n  const [show, setShow] = useState(\"hide\");\n  const [user, setUser] = useState(undefined);\n  useEffect(() => {\n    const item = localStorage.getItem(\"user\");\n\n    if (item) {\n      setUser(JSON.parse(item));\n    } else {\n      setUser(undefined);\n    }\n  }, []);\n\n  const handleClose = () => {\n    setShow(\"hide\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LoginContext.Provider, {\n    value: {\n      user: user,\n      toggleSetUser: u => {\n        setUser(u);\n\n        if (u) {\n          localStorage.setItem(\"user\", JSON.stringify(u));\n        } else {\n          localStorage.removeItem(\"user\");\n        }\n      },\n      toggleLogout: () => {\n        setUser(undefined);\n        localStorage.removeItem(\"user\");\n      },\n      onLogin: () => setShow(\"login\"),\n      onSignup: () => setShow(\"signup\"),\n      onHide: () => setShow(\"hide\"),\n      onLogout: () => setShow(\"logout\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/levelPage/:sid\",\n    component: LevelPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/level/:sid/:levelID\",\n    component: SinglePlayerLevelBoard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/editor\",\n    component: LevelEditor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/arena\",\n    component: Arena,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/arena/level/:lid\",\n    component: ArenaLevelBoard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/user/:uid\",\n    component: UserPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(RegisterDialogue, {\n    open: show == \"signup\",\n    onClose: handleClose,\n    onSwitchToLogin: () => setShow(\"login\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(LoginDialogue, {\n    open: show == \"login\",\n    onClose: handleClose,\n    onSwitchToSignup: () => setShow(\"signup\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(LogoutDialogue, {\n    open: show == \"logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/johnny/IC/Computing/DRP/drp48/src/App.tsx"],"names":["React","useEffect","useState","Route","Entry","LevelPage","LoginContext","LevelEditor","Arena","SinglePlayerLevelBoard","ArenaLevelBoard","RegisterDialogue","LoginDialogue","LogoutDialogue","UserPage","App","show","setShow","user","setUser","undefined","item","localStorage","getItem","JSON","parse","handleClose","toggleSetUser","u","setItem","stringify","removeItem","toggleLogout","onLogin","onSignup","onHide","onLogout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Route } from \"react-router-dom\";\nimport { Entry } from \"./components/entry/Entry\";\nimport { LevelPage } from \"./components/entry/LevelPage\";\nimport { UserCredential } from \"./types\";\nimport { LoginContext } from \"./LoginContext\";\nimport { LevelEditor } from \"./components/editor/LevelEditor\";\nimport { Arena } from \"./components/arena/Arena\";\nimport { SinglePlayerLevelBoard } from \"./components/game/SinglePlayerLevelBoard\";\nimport { ArenaLevelBoard } from \"./components/game/ArenaLevelBoard\";\nimport { RegisterDialogue } from \"./components/auth/Register\";\nimport { LoginDialogue } from \"./components/auth/Login\";\nimport { LogoutDialogue } from \"./components/auth/Logout\";\nimport { UserPage } from \"./components/user/UserPage\";\n\ntype DialogState = \"hide\" | \"login\" | \"signup\" | \"logout\";\n\nfunction App() {\n  const [show, setShow] = useState<DialogState>(\"hide\");\n\n  const [user, setUser] = useState<UserCredential | undefined>(undefined);\n\n  useEffect(() => {\n    const item = localStorage.getItem(\"user\");\n    if (item) {\n      setUser(JSON.parse(item));\n    } else {\n      setUser(undefined);\n    }\n  }, []);\n\n  const handleClose = () => {\n    setShow(\"hide\");\n  };\n\n  return (\n    <div className=\"App\">\n      <LoginContext.Provider\n        value={{\n          user: user,\n          toggleSetUser: (u) => {\n            setUser(u);\n            if (u) {\n              localStorage.setItem(\"user\", JSON.stringify(u));\n            } else {\n              localStorage.removeItem(\"user\");\n            }\n          },\n          toggleLogout: () => {\n            setUser(undefined);\n            localStorage.removeItem(\"user\");\n          },\n          onLogin: () => setShow(\"login\"),\n          onSignup: () => setShow(\"signup\"),\n          onHide: () => setShow(\"hide\"),\n          onLogout: () => setShow(\"logout\"),\n        }}\n      >\n        <Route exact path=\"/\" component={Entry}></Route>\n        <Route path=\"/levelPage/:sid\" component={LevelPage}></Route>\n        <Route\n          path=\"/level/:sid/:levelID\"\n          component={SinglePlayerLevelBoard}\n        ></Route>\n        <Route path=\"/editor\" component={LevelEditor}></Route>\n        <Route exact path=\"/arena\" component={Arena}></Route>\n        <Route path=\"/arena/level/:lid\" component={ArenaLevelBoard}></Route>\n        <Route path=\"/user/:uid\" component={UserPage} />\n        {/* Sign-up Dialogue */}\n        <RegisterDialogue\n          open={show == \"signup\"}\n          onClose={handleClose}\n          onSwitchToLogin={() => setShow(\"login\")}\n        />\n        {/* Login Dialogue */}\n        <LoginDialogue\n          open={show == \"login\"}\n          onClose={handleClose}\n          onSwitchToSignup={() => setShow(\"signup\")}\n        />\n        <LogoutDialogue open={show == \"logout\"} />\n      </LoginContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}