{"ast":null,"code":"var _jsxFileName = \"/Users/johnny/IC/Computing/DRP/drp48/src/components/editor/ChangeGoalDialogue.tsx\";\nimport React, { useContext } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport MButton from '@material-ui/core/Button';\nimport { EditorContext } from './LevelEditor';\nimport { getExprFromJson } from '../../server/gameApp/game/goal';\nexport const ChangeGoalDialogue = ({\n  updateGoal,\n  confirmGoal,\n  deleteGoal\n}) => {\n  const context = useContext(EditorContext);\n  const state = context.state;\n  const goal = state.kind == 'changeGoal' ? state.newGoal : undefined;\n  const index = state.kind == 'changeGoal' ? state.gid : -1;\n\n  const handleRadioChange = event => {\n    changeGoalAim(event.target.value);\n  };\n\n  const changeGoalAim = goalKind => {\n    if (goal) {\n      switch (goalKind) {\n        case 'paradox':\n        case 'tautology':\n          updateGoal({\n            kind: goalKind\n          });\n\n        default:\n          const expr = getExprFromJson(goal);\n          updateGoal({\n            kind: goalKind,\n            expr: expr\n          });\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: context.state.kind == 'changeGoal',\n    onClose: context.setIdle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Change Goal No. \" + (index + 1)), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Choose aim\"), /*#__PURE__*/React.createElement(RadioGroup, {\n    \"aria-label\": \"Select aim\",\n    name: \"aim\",\n    value: goal === null || goal === void 0 ? void 0 : goal.kind,\n    onChange: handleRadioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"prove\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 54\n      }\n    }),\n    label: \"Prove\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"disprove\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 57\n      }\n    }),\n    label: \"Disprove\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"unknown\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 56\n      }\n    }),\n    label: \"Unknown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"equivalent\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 59\n      }\n    }),\n    label: \"Equivalent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"tautology\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 58\n      }\n    }),\n    label: \"Tautology\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"paradox\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 56\n      }\n    }),\n    label: \"Paradox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MButton, {\n    onClick: () => {\n      confirmGoal();\n      context.setIdle();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"CONFIRM\"), /*#__PURE__*/React.createElement(MButton, {\n    onClick: () => {\n      deleteGoal(index);\n      context.setIdle();\n    },\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"DELETE THIS GOAL\")));\n};","map":{"version":3,"sources":["/Users/johnny/IC/Computing/DRP/drp48/src/components/editor/ChangeGoalDialogue.tsx"],"names":["React","useContext","Dialog","DialogTitle","DialogContent","DialogActions","FormControlLabel","FormControl","FormLabel","RadioGroup","Radio","MButton","EditorContext","getExprFromJson","ChangeGoalDialogue","updateGoal","confirmGoal","deleteGoal","context","state","goal","kind","newGoal","undefined","index","gid","handleRadioChange","event","changeGoalAim","target","value","goalKind","expr","setIdle"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport Radio from '@material-ui/core/Radio'\nimport MButton from '@material-ui/core/Button'\nimport { EditorContext } from './LevelEditor'\nimport { GoalInJSON, GoalKind } from '../../types'\nimport { getExprFromJson } from '../../server/gameApp/game/goal'\n\ninterface Props {\n  updateGoal: (goal: GoalInJSON) => void\n  confirmGoal: () => void\n  deleteGoal: (gid: number) => void\n}\n\nexport const ChangeGoalDialogue = ({\n  updateGoal,\n  confirmGoal,\n  deleteGoal\n}: Props) => {\n  const context = useContext(EditorContext)\n  const state = context.state\n  const goal = state.kind == 'changeGoal' ? state.newGoal : undefined\n  const index = state.kind == 'changeGoal' ? state.gid : -1\n\n  const handleRadioChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    changeGoalAim(event.target.value as GoalKind)\n  }\n\n  const changeGoalAim = (goalKind: GoalKind) => {\n    if (goal) {\n      switch(goalKind) {\n        case 'paradox':\n        case 'tautology':\n          updateGoal({ kind: goalKind })\n        default:\n          const expr = getExprFromJson(goal)\n          updateGoal({ kind: goalKind, expr: expr })\n      }\n    }\n  }\n   \n  return (\n    <Dialog open={context.state.kind == 'changeGoal'} onClose={context.setIdle}>\n      <DialogTitle>{\"Change Goal No. \" + (index + 1)}</DialogTitle>\n      <DialogContent> \n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Choose aim</FormLabel>\n          <RadioGroup aria-label=\"Select aim\" name=\"aim\" value={goal?.kind} onChange={handleRadioChange}>\n            <FormControlLabel value='prove' control={<Radio/>} label='Prove'/>\n            <FormControlLabel value='disprove' control={<Radio/>} label='Disprove'/>\n            <FormControlLabel value='unknown' control={<Radio/>} label='Unknown'/>\n            <FormControlLabel value='equivalent' control={<Radio/>} label='Equivalent'/>\n            <FormControlLabel value='tautology' control={<Radio/>} label='Tautology'/>\n            <FormControlLabel value='paradox' control={<Radio/>} label='Paradox'/>\n          </RadioGroup>\n        </FormControl>\n      </DialogContent>\n      <DialogActions>\n        <MButton onClick={() => { confirmGoal(); context.setIdle() }}>CONFIRM</MButton>\n        <MButton onClick={() => { deleteGoal(index!!); context.setIdle() }} color=\"secondary\">DELETE THIS GOAL</MButton>\n      </DialogActions>\n    </Dialog>\n  )\n}"]},"metadata":{},"sourceType":"module"}