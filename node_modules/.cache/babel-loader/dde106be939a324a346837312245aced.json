{"ast":null,"code":"var _jsxFileName = \"/Users/johnny/IC/Computing/DRP/drp48/src/App.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Route } from 'react-router-dom';\nimport { Entry } from './components/entry/Entry';\nimport { LevelPage } from './components/entry/levelPage';\nimport { LoginContext } from './LoginContext';\nimport { LevelEditor } from './components/editor/LevelEditor';\nimport { Arena } from './components/arena/Arena';\nimport { SinglePlayerLevelBoard } from './components/game/SinglePlayerLevelBoard';\nimport { ArenaLevelBoard } from './components/game/ArenaLevelBoard';\nimport { RegisterDialogue } from './components/auth/Register';\nimport { LoginDialogue } from './components/auth/Login';\nimport { LogoutDialogue } from './components/auth/Logout';\n\nfunction App() {\n  const [show, setShow] = useState(\"hide\");\n  const [user, setUser] = useState(undefined);\n  useEffect(() => {\n    const item = localStorage.getItem('user');\n\n    if (item) {\n      alert(item);\n      setUser(JSON.parse(item));\n    } else {\n      setUser(undefined);\n    }\n  }, []);\n\n  const handleClose = () => {\n    setShow(\"hide\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LoginContext.Provider, {\n    value: {\n      user: user,\n      toggleSetUser: u => {\n        setUser(u);\n\n        if (u) {\n          localStorage.setItem('user', JSON.stringify(u));\n        } else {\n          localStorage.removeItem('user');\n        }\n      },\n      toggleLogout: () => {\n        setUser(undefined);\n        localStorage.removeItem('user');\n      },\n      onLogin: () => setShow('login'),\n      onSignup: () => setShow('signup'),\n      onHide: () => setShow('hide'),\n      onLogout: () => setShow('logout')\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/levelPage/:sid\",\n    component: LevelPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/level/:sid/:levelID\",\n    component: SinglePlayerLevelBoard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/editor\",\n    component: LevelEditor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/arena\",\n    component: Arena,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/arena/level/:lid\",\n    component: ArenaLevelBoard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(RegisterDialogue, {\n    open: show == \"signup\",\n    onClose: handleClose,\n    onSwitchToLogin: () => setShow(\"login\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(LoginDialogue, {\n    open: show == \"login\",\n    onClose: handleClose,\n    onSwitchToSignup: () => setShow(\"signup\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(LogoutDialogue, {\n    open: show == 'logout',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/johnny/IC/Computing/DRP/drp48/src/App.tsx"],"names":["React","useState","useEffect","Route","Entry","LevelPage","LoginContext","LevelEditor","Arena","SinglePlayerLevelBoard","ArenaLevelBoard","RegisterDialogue","LoginDialogue","LogoutDialogue","App","show","setShow","user","setUser","undefined","item","localStorage","getItem","alert","JSON","parse","handleClose","toggleSetUser","u","setItem","stringify","removeItem","toggleLogout","onLogin","onSignup","onHide","onLogout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport { Entry } from './components/entry/Entry';\nimport { LevelPage } from './components/entry/levelPage';\nimport { UserCredential } from './types';\nimport { LoginContext } from './LoginContext';\nimport { LevelEditor } from './components/editor/LevelEditor';\nimport { Arena } from './components/arena/Arena';\nimport { SinglePlayerLevelBoard } from './components/game/SinglePlayerLevelBoard';\nimport { ArenaLevelBoard } from './components/game/ArenaLevelBoard';\nimport { RegisterDialogue } from './components/auth/Register';\nimport { LoginDialogue } from './components/auth/Login';\nimport { LogoutDialogue } from './components/auth/Logout';\n\ntype DialogState = \"hide\" | \"login\" | \"signup\" | \"logout\";\n\nfunction App() {\n\n  const [show, setShow] = useState<DialogState>(\"hide\");\n\n  const [user, setUser] = useState<UserCredential | undefined>(undefined)\n\n  useEffect(() => {\n    const item = localStorage.getItem('user')\n    if (item) {\n      alert(item)\n      setUser(JSON.parse(item))\n    } else {\n      setUser(undefined)\n    }\n  }, [])\n\n  const handleClose = () => {\n    setShow(\"hide\");\n  };\n\n  return (\n    <div className=\"App\">\n      <LoginContext.Provider value={{ \n        user: user, \n        toggleSetUser: u => { \n          setUser(u)\n          if (u) {\n            localStorage.setItem('user', JSON.stringify(u)) \n          } else {\n            localStorage.removeItem('user')\n          }\n        },\n        toggleLogout: () => { setUser(undefined); localStorage.removeItem('user') },\n        onLogin: () => setShow('login'),\n        onSignup: () => setShow('signup'),\n        onHide: () => setShow('hide'),\n        onLogout: () => setShow('logout')\n      }}>\n        <Route exact path=\"/\" component={Entry}></Route>\n        <Route path=\"/levelPage/:sid\" component={LevelPage}></Route>\n        <Route path=\"/level/:sid/:levelID\" component={SinglePlayerLevelBoard}></Route>\n        <Route path=\"/editor\" component={LevelEditor}></Route>\n        <Route exact path=\"/arena\" component={Arena}></Route>\n        <Route path=\"/arena/level/:lid\" component={ArenaLevelBoard}></Route>\n        {/* Sign-up Dialogue */}\n        <RegisterDialogue\n          open={show == \"signup\"}\n          onClose={handleClose}\n          onSwitchToLogin={() => setShow(\"login\")}\n        />\n        {/* Login Dialogue */}\n        <LoginDialogue\n          open={show == \"login\"}\n          onClose={handleClose}\n          onSwitchToSignup={() => setShow(\"signup\")}\n        />\n        <LogoutDialogue open={show == 'logout'}/>\n      </LoginContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}