{"ast":null,"code":"var _jsxFileName = \"/Users/johnny/IC/Computing/DRP/drp48/src/components/editor/EditorModifyCardCount.tsx\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport MButton from '@material-ui/core/Button';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Input from '@material-ui/core/Input';\nimport { EditorContext } from './LevelEditor';\nimport { Grid } from '@material-ui/core';\nconst defaultValue = 1;\nexport const EditorModifyCardCountDialogue = ({\n  hpos,\n  onSubmit\n}) => {\n  const context = useContext(EditorContext);\n  const [count, setCount] = useState(0);\n  const [isInfty, setIsInfty] = useState(true);\n  useEffect(() => {\n    if (hpos < context.handCards.length) {\n      const init = context.handCards[hpos][1];\n      setCount(init === Number.POSITIVE_INFINITY ? defaultValue : init);\n      setIsInfty(init === Number.POSITIVE_INFINITY);\n    }\n  }, [context, hpos]);\n\n  const handleRadioChange = event => {\n    setIsInfty(event.target.value === 'true');\n  };\n\n  const handleInputChange = event => {\n    const num = event.target.value === '' ? 1 : Number(event.target.value);\n    setCount(Math.min(Math.max(num, 0), 10));\n  };\n\n  const submit = () => {\n    onSubmit(isInfty ? Number.POSITIVE_INFINITY : count);\n  };\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: context.state.kind === 'changeHand',\n    title: \"Modify card number\",\n    onClose: context.setIdle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    \"aria-label\": \"quiz\",\n    name: \"quiz\",\n    value: isInfty,\n    onChange: handleRadioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: true,\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 51\n      }\n    }),\n    label: \"\\u221E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: false,\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 56\n      }\n    }),\n    label: \"Count: \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    margin: \"dense\",\n    onChange: handleInputChange,\n    disabled: isInfty,\n    inputProps: {\n      defaultValue: count === Number.POSITIVE_INFINITY ? defaultValue : count,\n      step: 1,\n      min: 0,\n      max: 10,\n      type: 'number',\n      'aria-labelledby': 'input-slider'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MButton, {\n    onClick: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"SUBMIT\"), /*#__PURE__*/React.createElement(MButton, {\n    onClick: context.setIdle,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"CANCEL\")));\n};","map":{"version":3,"sources":["/Users/johnny/IC/Computing/DRP/drp48/src/components/editor/EditorModifyCardCount.tsx"],"names":["React","useContext","useState","useEffect","Dialog","DialogContent","DialogActions","MButton","RadioGroup","Radio","FormControlLabel","Input","EditorContext","Grid","defaultValue","EditorModifyCardCountDialogue","hpos","onSubmit","context","count","setCount","isInfty","setIsInfty","handCards","length","init","Number","POSITIVE_INFINITY","handleRadioChange","event","target","value","handleInputChange","num","Math","min","max","submit","state","kind","setIdle","step","type"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport MButton from '@material-ui/core/Button'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport Radio from '@material-ui/core/Radio'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Input from '@material-ui/core/Input'\nimport { EditorContext } from './LevelEditor'\nimport { Grid } from '@material-ui/core'\n\ninterface Props {\n  hpos: number\n  onSubmit: (count: number) => void\n}\n\nconst defaultValue = 1\n\nexport const EditorModifyCardCountDialogue = ({\n  hpos,\n  onSubmit\n}: Props) => {\n\n  const context = useContext(EditorContext)\n  const [count, setCount] = useState(0)\n  const [isInfty, setIsInfty] = useState(true)\n\n  useEffect(() => {\n    if (hpos < context.handCards.length) {\n      const init = context.handCards[hpos][1]\n      setCount(init === Number.POSITIVE_INFINITY ? defaultValue : init)\n      setIsInfty(init === Number.POSITIVE_INFINITY)\n    }\n  }, [context, hpos])\n\n  const handleRadioChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setIsInfty(event.target.value === 'true')\n  }\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const num = event.target.value === '' ? 1 : Number(event.target.value)\n    setCount(Math.min(Math.max(num, 0), 10))\n  }\n\n  const submit = () => {\n    onSubmit(isInfty ? Number.POSITIVE_INFINITY : count)\n  }\n\n  return( \n    <Dialog open={context.state.kind === 'changeHand'} title=\"Modify card number\" onClose={context.setIdle}>\n      <DialogContent>\n        <RadioGroup aria-label=\"quiz\" name=\"quiz\" value={isInfty} onChange={handleRadioChange}>\n          <FormControlLabel value={true} control={<Radio />} label=\"∞\" />\n          <Grid container spacing={1}>\n            <Grid item>\n              <FormControlLabel value={false} control={<Radio />} label=\"Count: \" />\n              <Input \n                margin=\"dense\" \n                onChange={handleInputChange}\n                disabled={isInfty}\n                inputProps={{\n                  defaultValue: count === Number.POSITIVE_INFINITY ? defaultValue : count,\n                  step: 1,\n                  min: 0,\n                  max: 10,\n                  type: 'number',\n                  'aria-labelledby': 'input-slider',\n                }}\n              />\n            </Grid>\n          </Grid>\n        </RadioGroup>\n      </DialogContent>\n      <DialogActions>\n        <MButton onClick={submit}>SUBMIT</MButton>\n        <MButton onClick={context.setIdle} color='secondary'>CANCEL</MButton>\n      </DialogActions>\n    </Dialog>\n  )\n\n}"]},"metadata":{},"sourceType":"module"}